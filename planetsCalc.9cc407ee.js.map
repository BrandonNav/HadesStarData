{"version":3,"sources":["../../../node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../node_modules/parcel-bundler/src/builtins/bundle-loader.js","../js/planetsCalc.js","../../../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","prototype","onSuccess","onError","start","updatePageData","loadUserData","selects","document","querySelectorAll","data","JSON","parse","localStorage","getItem","select","index","isPlan","obj","val","Data","Name","$","value","i","children","prop","result","getSafeVar","mode","path","undefined","obj1","updateCol","keys","num1","num2","plan","Object","forEach","v","textContent","toLocaleString","calculateTotal","item","keysTotal","PlanIndexLvl","ActuallyIndexLvl","actually","level","levels","includes","keysAliasesTS","TradingStations","fixTime","itemLvl","itemIndex","indexOf","keysModifiers","formatResult","htmlElem","css","m","yellowstarTable","TradingStation","ShipmentsCRValuePerDay","Cost","TimeToUpgrade","append","getStr","body","class","td","text","outerHTML","html","colspan","style","MaxOnOwnSolarSystem","TID","push","MaxUpgradeLevel","maxLevel","customTable","lvl","generatePageTables","fixTable","window","changeLvl","parseInt","setItem","stringify","reset","msg","confirm","removeItem","location","reload","sec","days","Math","floor","hours","min","round","script","createElement","async","charset","src","onerror","onload","getElementsByTagName","appendChild"],"mappings":"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","file":"planetsCalc.9cc407ee.js","sourceRoot":"../frontend/src/pages","sourcesContent":["var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","'use strict';\nrequire('regenerator-runtime/runtime');\n\nexport async function start() {\n  const Data = await import('../../../data/planets').then((m) => m.data.yellowstarTable);\n  const levels = await import('../../../data/planet_levels').then((m) => m.data);\n  const TradingStations = await import('../../../data/spacebuildings').then(((m) => m.data.TradingStation));\n  const keys = ['CreditStorage', 'FuelStorage', 'CreditsPerHour', 'FuelPerHour', 'ShipmentsCRValuePerDay'];\n  const keysModifiers = ['CreditStorageModifier', 'FuelStorageModifier', 'CreditIncomeModifier', 'FuelIncomeModifier', 'CreditShipmentModifier'];\n  const keysTotal = ['Cost', 'TimeToUpgrade'];\n  const keysAliasesTS = {\n    ShipmentsCRValuePerDay: 'TotalShipmentCRPerDay',\n    Cost: 'Cost',\n    TimeToUpgrade: 'ConstructionTime',\n  };\n\n  $('h1').append(`${getStr('planetscalc')}`);\n  const body = $('body');\n  body.append(`<title>${getStr('planetscalc')}</title>`);\n  body.append($('<table/>', {\n    class: 'planetsCalc',\n  }));\n  for (const i of keys) {\n    let td = '';\n    const rows = ['actually', 'plan', 'result'];\n\n    td += $('<td/>', { // имена rows\n      text: getStr(i),\n    })[0].outerHTML;\n    rows.forEach((e) => {\n      td += $('<td/>', {\n        id: i + e,\n        text: 0,\n      })[0].outerHTML;\n    });\n    $('table.planetsCalc').append($('<tr/>', {\n      html: td,\n    }));\n  }\n  for (const i of keysTotal) {\n    let td = '';\n    td += $('<td/>', { // имена rows\n      text: getStr(i),\n    })[0].outerHTML;\n    td += $('<td/>', {\n      id: i + 'result',\n      text: 0,\n      colspan: 3,\n      style: 'font-weight: bold',\n    })[0].outerHTML;\n    $('table.planetsCalc').append($('<tr/>', {\n      html: td,\n    }));\n  }\n  body.append($('<div/>', { // кнопки\n    class: 'resetButtons',\n    html: `<button class = \"resetButtonAll\" name=\"button\" onclick=\"reset()\">${getStr('resetAll')}</button>\n                <button name=\"button\" onclick=\"reset('plan')\">${getStr('resetPlan')}</button>`,\n  }));\n\n  // добавить торги\n  for (let i = 0; TradingStations.MaxOnOwnSolarSystem > i; i++) {\n    Data.TID.push(TradingStations.TID);\n    Data.Name.push(TradingStations.Name + '_' + i);\n    Data.MaxUpgradeLevel.push(TradingStations.maxLevel);\n    Data.maxLevel++;\n  }\n\n  const customTable = {\n    Name: 'planetsCalc',\n    TID: Data.TID,\n    lvl: [],\n    plan: [],\n    maxLevel: Data.maxLevel,\n  };\n\n  for (const i in Data.Name) {\n    let select = '';\n    for (let lvl = 0; Data.MaxUpgradeLevel[i] + 1 > lvl; lvl++) {\n      select += `<option>${lvl}</option>`;\n    }\n    customTable.lvl.push(`<select onchange=\"changeLvl(this.value,'${i}')\"> ${select} </select>`);\n    customTable.plan.push(`<select onchange=\"changeLvl(this.value,'${i}', true)\"> ${select} </select>`);\n  }\n\n  generatePageTables({data: customTable, fixTable: false})\n      .then(() => loadUserData());\n\n  // колбек выбора лавлов\n  window.changeLvl = function(index, itemIndex, isPlan = false) {\n    index = parseInt(index);\n    const data = JSON.parse(localStorage.getItem('planetsCalc')) || {};\n    const item = Data.Name[itemIndex];\n    let obj;\n\n    if (!data.actually) data.actually = {};\n    if (!data.plan) data.plan = {};\n    if (isPlan) {\n      obj = data.plan;\n    } else {\n      obj = data.actually;\n    }\n    obj[item] = index;\n    if (!isPlan) { // подогнать план под уровень\n      if (data.plan[item]) {\n        if (data.plan[item] < index) {\n          data.plan[item] = index;\n        }\n      } else {\n        data.plan[item] = index;\n      }\n    }\n    localStorage.setItem('planetsCalc', JSON.stringify(data));\n    loadUserData();\n  };\n  // колбек кнопок\n  window.reset = function(isPlan) {\n    if (!isPlan) {\n      const msg = confirm('Reset all? Ar u serious ?');\n      if (msg) {\n        localStorage.removeItem('planetsCalc');\n      } else {\n        return;\n      }\n    } else {\n      const obj = JSON.parse(localStorage.getItem('planetsCalc')) || {};\n      if (obj.plan) {\n        for (const i in obj.plan) {\n          obj.plan[i] = obj.actually[i];\n        }\n      } else {\n        obj.plan = {};\n      }\n      localStorage.setItem('planetsCalc', JSON.stringify(obj));\n    }\n    location.reload();\n  };\n  // вычислить данные\n  function updatePageData() {\n    const obj = JSON.parse(localStorage.getItem('planetsCalc')) || {};\n    const result = {};\n    const getSafeVar = (mode, path) => {\n      let value;\n      try {\n        value = (result[mode][path] == undefined) ? 0 : result[mode][path];\n      } catch {\n        value = 0;\n        result[mode] = {};\n      }\n      return value;\n    };\n\n    if (!obj) return;\n    for (const mode in obj) {\n      const obj1 = obj[mode];\n      if (!obj1) return;\n      updateCol(mode, obj1);\n    }\n    for (const i of keys) { // вычислить прирост плана\n      const num1 = getSafeVar('plan', i);\n      const num2 = getSafeVar('actually', i);\n      result.plan[i] = num1 - num2;\n    }\n    updateCol('result', obj.plan);\n    if (Object.keys(result).length !== 0) { // отобразить данные\n      keys.forEach((e) => {\n        for (const mode in result) {\n          let v = result[mode][e];\n          if (!v) v = 0;\n          $('#' + e + mode)[0].textContent = (\n            ((mode == 'plan' ? (v <= 0 ? '' : '+') : '')) + // форматировать планы\n            v.toLocaleString()\n          );\n        }\n      });\n    }\n    calculateTotal(obj);\n\n    function updateCol(mode, obj) {\n      for (const item in obj) {\n        const itemLvl = obj[item] - 1;\n        const itemIndex = Data.Name.indexOf(item);\n\n        if (itemLvl == -1) continue;\n        if (item.includes('TradingStation')) {\n\n        }\n        for (const i in keys) {\n          let num1;\n          let num2;\n\n          if (!result[mode]) result[mode] = {};\n          if (mode == 'result') { // обновить результат\n            num1 = getSafeVar('plan', keys[i]);\n            num2 = getSafeVar('actually', keys[i]);\n          } else {\n            num1 = result[mode][keys[i]] || 0;\n            if (keysModifiers[i]) {\n              num2 = levels[keys[i]][itemLvl] * Data[keysModifiers[i]][itemIndex] / 100;\n\n              if (item.includes('TradingStation')) {\n                num2 = 0;\n                if (keys[i] in keysAliasesTS) {\n                  num2 = TradingStations[keysAliasesTS[keys[i]]][itemLvl];\n                }\n              }\n            } else {\n              num2 = levels[keys[i]][itemLvl];\n            }\n          }\n          result[mode][keys[i]] = num1 + num2;\n          if (mode == 'result') formatResult(keys[i]);\n        }\n      }\n    }\n    function formatResult(i) {\n      const htmlElem = $('#' + i + 'result')[0];\n      const num1 = getSafeVar('result', i);\n      const num2 = getSafeVar('actually', i);\n      if (num1 > num2) {\n        $(htmlElem).css('color', 'green');\n      } else if (num1 < num2) {\n        $(htmlElem).css('color', 'red');\n      } else {\n        $(htmlElem).css('color', '');\n      }\n    }\n    function calculateTotal(obj) {\n      for (const item in obj.plan) {\n        if (obj.plan[item] == 0) continue;\n        for (const i of keysTotal) {\n          let num1 = 0;\n          let num2 = 0;\n          const PlanIndexLvl = obj.plan[item] - 1;\n          const ActuallyIndexLvl = (obj.actually[item] || 0) - 1;\n\n          num1 = (result[i] == undefined) ? 0 : result[i];\n          for (let level = ActuallyIndexLvl; PlanIndexLvl > level; level++) {\n            let data = levels[i][level + 1] || 0;\n\n            if (item.includes('TradingStation') && i in keysAliasesTS) {\n              data = TradingStations[keysAliasesTS[i]][level + 1] || 0;\n            }\n            num2 = num2 + data;\n          }\n          result[i] = num1 + num2;\n        }\n      }\n      keysTotal.forEach((e) => { // отобразить данные\n        let v = result[e];\n        if (!v) v = 0;\n        $('#' + e + 'result')[0].textContent =\n          (e == 'TimeToUpgrade') ? fixTime(v) : v.toLocaleString();\n      });\n    }\n    // console.log(obj);\n  }\n  // отобразить данные\n  function loadUserData() {\n    const selects = document.querySelectorAll('td > select');\n    const data = JSON.parse(localStorage.getItem('planetsCalc')) || {};\n    if (!data) return;\n    for (const select in selects) {\n      let index = select;\n      let isPlan = false;\n\n      if (!(select % 2 == 0)) {\n        index--;\n        isPlan = true;\n      }\n      index = index / 2;\n      const obj = data[(isPlan) ? 'plan' : 'actually'];\n      if (!obj) continue;\n      const val = obj[Data.Name[index]];\n      if (!val) continue;\n      $(selects[select]).val(val);\n      if (isPlan) { // заблокировать плановые лавлы ниже актуальных\n        const value = $(selects[select - 1]).val();\n        for (let i = 0; $(selects[select]).children().length > i; i++) {\n          $(selects[select][i]).prop('disabled', value > i);\n        }\n      }\n    }\n    updatePageData();\n  }\n}\nfunction fixTime(sec) {\n  let result = '';\n  const days = Math.floor(sec / 60 / 60 / 24);\n  sec -= days * 24 * 60 * 60;\n  const hours = Math.floor(sec / 60 / 60);\n  sec -= hours * 60 * 60;\n  const min = Math.floor(sec / 60);\n  sec -= min * 60;\n  if (days != 0) {\n    result += days + `${getStr('days')} `;\n  }\n  if (hours != 0) {\n    result += hours + `${getStr('hours')} `;\n  }\n  if (min != 0) {\n    result += min + `${getStr('min')} `;\n  }\n  if (sec != 0) {\n    result += Math.round(sec) + `${getStr('sec')} `;\n  }\n  return result || 0;\n}\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}